<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music - badkisser</title>

  <!-- Google Font: Ballet -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ballet:opsz@16..72&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

  <!-- Hamburger Menu Button (Mobile Only) -->
  <button class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu" id="mobile-menu">
    <a href="index.html">Badkisser</a>
    <a href="shop.html">Shop</a>
    <a href="pecks.html">Pecks</a>
    <a href="music.html">Audio</a>
    <a href="about.html">About</a>
  </div>

  <!-- Desktop Navigation Header -->
  <nav class="navbar">
    <a href="index.html">Badkisser</a>
    <a href="shop.html">Shop</a>
    <a href="pecks.html">Pecks</a>
    <a href="music.html">Audio</a>
    <a href="about.html">About</a>
  </nav>

  <!-- badkisser Radio - Top Right -->
  <div id="badkisser-radio">
    <span>badkisser Radio</span>
    <button id="radio-toggle">⭘</button>
  </div>

  <!-- Audio element -->
  <audio id="bg-audio"></audio>

  <!-- Fullscreen background video -->
  <video autoplay muted loop playsinline id="bg-video">
    <source src="assets/videos/TheWeekndAfterHours.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- Music Page Content -->
  <div class="music-page-container">
    
    <!-- First Playlist Row (NEW ONE) -->
    <div class="playlist-row">
      <!-- Spotify Embed (Left/Northwest) -->
      <div class="spotify-embed">
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5J0FTDvZgYzyf3g2zlyuom?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
      
      <!-- Text Description (Right/Northeast) -->
      <div class="playlist-description">
        <p>
          Badkisser Radio Episode One.<br><br>
          First aired on December 11, 2025.<br><br>
          If you are reading this, be aware that this playlist is subject to metamorphosis.
        </p>
      </div>
    </div>

    <!-- Second Playlist Row (OLD ONE) -->
    <div class="playlist-row">
      <!-- Spotify Embed (Left/Northwest) -->
      <div class="spotify-embed">
        <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/0TSbbRTjPw7MtAh8nc2q7E?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
      
      <!-- Text Description (Right/Northeast) -->
      <div class="playlist-description">
        <p>
          Barroilhet Avenue. Where do I start?<br><br>
          I had a friend who lived in this spacious, empty house that they had to themselves more than any teenager should. Each house is basically closed off and so were the neighbors. In this house, we were king. This house had art lazily picked out and it drove her nuts. Only the hallways lights ever stayed on, these songs playing through their fathers sound system in his office. All of us would just pass through
          each room like ghosts. Barroilhet Ave isn't just a street to me; it's a experimental limbo of over honesty, moping, and early unwanted independence.<br><br>

          Created on July 13, 2025.<br><br>
          Inspired by May through July, 2021.
        </p>
      </div>
    </div>

  </div>

  <!-- JavaScript for hamburger, videos and audio -->
  <script>
    // --- HAMBURGER MENU ---
    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobile-menu');

    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      mobileMenu.classList.toggle('active');
    });

    // Close menu when clicking a link
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', () => {
        hamburger.classList.remove('active');
        mobileMenu.classList.remove('active');
      });
    });

    // --- VIDEO LOOP WITH RANDOM START ---
    const video = document.getElementById('bg-video');
    const videos = [
      { src: 'assets/videos/TheWeekndAfterHours.mp4', position: 'center center' },
      { src: 'assets/videos/ChromeNails.mp4', position: 'center 56%' },
      { src: 'assets/videos/NYSkyline.mp4', position: 'center 70%' }
    ];
    let vidIndex = Math.floor(Math.random() * videos.length);
    video.src = videos[vidIndex].src;
    video.style.objectPosition = videos[vidIndex].position;

    video.addEventListener('ended', () => {
      vidIndex = (vidIndex + 1) % videos.length;
      video.src = videos[vidIndex].src;
      video.style.objectPosition = videos[vidIndex].position;
      video.play();
    });

    // --- BADKISSER RADIO ---
    const audio = document.getElementById('bg-audio');
    const radioToggle = document.getElementById('radio-toggle');

    const songs = [
      'assets/bgmusic/Amazing.mp3',
      'assets/bgmusic/TellYourFriends.mp3',
      'assets/bgmusic/LoversRock.mp3',
      'assets/bgmusic/LemonGlow.mp3',
      'assets/bgmusic/FuckingYourgirl.mp3'
    ];

    function shuffleArray(array) {
      let shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }

    let playlist = shuffleArray(songs);
    let songIndex = 0;
    audio.src = playlist[songIndex];

    radioToggle.addEventListener('click', () => {
      if(audio.paused) {
        audio.play();
        radioToggle.textContent = '⭘';
      } else {
        audio.pause();
        radioToggle.textContent = '●';
      }
    });

    audio.addEventListener('ended', () => {
      songIndex = (songIndex + 1) % playlist.length;
      if(songIndex === 0) playlist = shuffleArray(songs);
      audio.src = playlist[songIndex];
      audio.play();
    });
  </script>

</body>
</html>
